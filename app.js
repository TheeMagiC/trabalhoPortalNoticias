const dados = {
    "noticias": [
        {
            "id": 1,
            "titulo": "A felicidade global atinge o maior nível desde a pandemia",
            "descricao": "A pontuação de felicidade subiu para 71 em 100, refletindo um aumento no otimismo global.",
            "conteudo": "De acordo com o relatório Gallup Global Emotions de 2024, as emoções positivas no mundo retornaram aos níveis pré-pandemia, marcando o maior índice desde 2020. A pontuação de felicidade subiu para 71 em 100, refletindo um aumento no otimismo global. Jovens, especialmente, demonstraram resiliência notável, recuperando-se mais rapidamente do que os adultos mais velhos. Apesar dos desafios globais, essa tendência indica uma recuperação emocional significativa em escala mundial.",
            "categoria": "Mundo",
            "autor": "Julie Ray",
            "destaque": false,
            "data": "2024-04-25",
            "imagem_principal": "imagens/felicidade.png",   
            "imagens_complementares": [
                {
                    "id": 1,
                    "src": "imagens/pessoasfeliz.jpg",
                    "descricao": "Felicidade contagiante"
                },
                {
                    "id": 2,
                    "src": "imagens/pessoasfelizmundo.png",
                    "descricao": "Pessoas felizes em todo o mundo"
                },
                {
                    "id": 3,
                    "src": "imagens/mapafelicidade.jpg",
                    "descricao": "Mapa de índices de felicidade"
                }
            ]
        },
        {
            "id": 2,
            "titulo": "Avanços na Tecnologia de Energia Solar",
            "descricao": "Novo tipo de painel solar alcança eficiência recorde de conversão de energia.",
            "conteudo": "Uma equipe internacional de cientistas anunciou hoje um avanço revolucionário na tecnologia de energia solar. O novo painel solar desenvolvido alcança uma eficiência de conversão de 29,4%, estabelecendo um novo recorde mundial. Esta inovação promete reduzir significativamente os custos de energia renovável e acelerar a transição global para fontes de energia limpa. O projeto, que levou cinco anos para ser desenvolvido, utiliza uma nova composição de materiais que maximiza a absorção de luz solar.",
            "categoria": "Tecnologia",
            "autor": "Carlos Silva",
            "destaque": false,
            "data": "2024-04-24",
            "imagem_principal": "imagens/solar.jpg",
            "imagens_complementares": [
                {
                    "id": 1,
                    "src": "imagens/solares.jpg",
                    "descricao": "Painel solar em operação"
                },
                {
                    "id": 2,
                    "src": "imagens/solares3.jpg",
                    "descricao": "Crescimento da tecnologia solar"
                },
                {
                    "id": 3,
                    "src": "imagens/solares2.jpg",
                    "descricao": "Novo design de painel solar"
                }
            ]
        },
        {
            "id": 3,
            "titulo": "Descoberta Revolucionária na Medicina",
            "descricao": "Cientistas desenvolvem novo tratamento para doenças neurodegenerativas.",
            "conteudo": "Uma equipe internacional de pesquisadores anunciou hoje um avanço significativo no tratamento de doenças neurodegenerativas. O novo método, que combina terapia gênica com nanotecnologia, mostrou resultados promissores em testes clínicos iniciais. Os pacientes tratados apresentaram uma redução de 60% nos sintomas principais, abrindo caminho para possíveis curas de condições como Alzheimer e Parkinson. Este desenvolvimento representa um dos maiores avanços na neurociência nas últimas décadas.",
            "categoria": "Saúde",
            "autor": "Maria Santos",
            "destaque": true,
            "data": "2024-04-23",
            "imagem_principal": "imagens/medicina1.jpg",
            "imagens_complementares": [
                {
                    "id": 1,
                    "src": "imagens/medicina2.jpg",
                    "descricao": "Imagem de ressonância cerebral"
                },
                {
                    "id": 2,
                    "src": "imagens/medicina3.jpg",
                    "descricao": "Aumento na melhora dos pacientes"
                },
                {
                    "id": 3,
                    "src": "imagens/meicina4.jpg",
                    "descricao": "Laboratório de nanotecnologia"
                }
            ]
        },
        {
            "id": 4,
            "titulo": "Nova Espécie de Dinossauro Descoberta no Brasil",
            "descricao": "Paleontólogos encontram fósseis de espécie inédita de dinossauro no interior de Minas Gerais.",
            "conteudo": "Uma equipe de paleontólogos brasileiros descobriu uma nova espécie de dinossauro herbívoro que viveu há aproximadamente 80 milhões de anos no que hoje é o estado de Minas Gerais. O fóssil, batizado de 'Minasaurus brasiliensis', apresenta características únicas nunca antes vistas em outros dinossauros da América do Sul. Com aproximadamente 12 metros de comprimento, este herbívoro gigante oferece novas perspectivas sobre a evolução dos dinossauros no continente sul-americano.",
            "categoria": "Ciência",
            "autor": "Pedro Almeida",
            "destaque": true,
            "data": "2024-04-22",
            "imagem_principal": "imagens/dinossauro1.png",
            "imagens_complementares": [
                {
                    "id": 1,
                    "src": "imagens/fossil.png",
                    "descricao": "Fóssil recém-descoberto"
                },
                {
                    "id": 2,
                    "src": "imagens/local.jpg",
                    "descricao": "Uberaba, Minas Gerais"
                },
                {
                    "id": 3,
                    "src": "imagens/dinossauro3.jpg",
                    "descricao": "Equipe de paleontólogos no campo"
                }
            ]
        },
        {
            "id": 5,
            "titulo": "Revolução na Inteligência Artificial",
            "descricao": "Novo modelo de IA consegue compreender e gerar emoções humanas com precisão inédita.",
            "conteudo": "Pesquisadores do Instituto de Tecnologia Avançada desenvolveram um modelo de inteligência artificial capaz de identificar e responder a emoções humanas com uma precisão sem precedentes. O sistema, denominado EmotiAI, utiliza uma combinação de processamento de linguagem natural e análise de expressões faciais para compreender o estado emocional dos usuários. Esta tecnologia promete revolucionar áreas como saúde mental, atendimento ao cliente e educação personalizada.",
            "categoria": "Tecnologia",
            "autor": "Ana Beatriz Costa",
            "destaque": false,
            "data": "2024-04-21",
            "imagem_principal": "imagens/ia.jpg",
            "imagens_complementares": [
                {
                    "id": 1,
                    "src": "imagens/ia2.jpg",
                    "descricao": "Interface do sistema EmotiAI"
                },
                {
                    "id": 2,
                    "src": "imagens/labia.jpg",
                    "descricao": "Centro de desenvolvimento de IA"
                },
                {
                    "id": 3,
                    "src": "imagens/tstia.jpg",
                    "descricao": "Testes de reconhecimento emocional"
                }
            ]
        },
        {
            "id": 6,
            "titulo": "Expedição Descobre Nova Espécie Marinha no Oceano Atlântico",
            "descricao": "Cientistas encontram criatura bioluminescente nunca antes catalogada em profundidades abissais.",
            "conteudo": "Uma equipe internacional de biólogos marinhos descobriu uma nova espécie de criatura bioluminescente durante uma expedição nas profundezas do Oceano Atlântico. O animal, batizado de 'Atlantica luminosa', emite uma luz azul-esverdeada e possui características únicas de adaptação ao ambiente de alta pressão. A descoberta foi feita a mais de 4.000 metros de profundidade, utilizando veículos submarinos não tripulados equipados com câmeras de alta resolução. Esta descoberta pode ajudar a entender melhor a evolução da vida em ambientes extremos.",
            "categoria": "Ciência",
            "autor": "Roberto Marinho",
            "destaque": true,
            "data": "2024-04-20",
            "imagem_principal": "imagens/agua1.jpg",
            "imagens_complementares": [
                {
                    "id": 1,
                    "src": "imagens/agua2.png",
                    "descricao": "Equipe de pesquisa em alto mar"
                },
                {
                    "id": 2,
                    "src": "imagens/agua3.png",
                    "descricao": "Veículo submarino utilizado na descoberta"
                },
                {
                    "id": 3,
                    "src": "imagens/agua4.png",
                    "descricao": "Localização da descoberta no Atlântico"
                }
            ]
        },
        {
            "id": 7,
            "titulo": "Arqueólogos Desvendam Mistério de Civilização Antiga na Amazônia",
            "descricao": "Novas descobertas revelam complexa rede de cidades perdidas na floresta amazônica.",
            "conteudo": "Uma equipe de arqueólogos brasileiros e internacionais descobriu evidências de uma civilização antiga até então desconhecida na Amazônia. Utilizando tecnologia de escaneamento a laser (LiDAR), os pesquisadores identificaram uma extensa rede de cidades interligadas, com pirâmides, estradas e sistemas de irrigação sofisticados. A descoberta, que data de aproximadamente 1.500 anos atrás, desafia a visão tradicional sobre a ocupação humana na Amazônia e sugere que a região abrigou sociedades complexas muito antes do que se imaginava.",
            "categoria": "História",
            "autor": "Isabela Santos",
            "destaque": false,
            "data": "2024-04-19",
            "imagem_principal": "imagens/amz1.png",
            "imagens_complementares": [
                {
                    "id": 1,
                    "src": "imagens/amz2.png",
                    "descricao": "Imagem do escaneamento LiDAR"
                },
                {
                    "id": 2,
                    "src": "imagens/amz3.png",
                    "descricao": "Estruturas arqueológicas encontradas"
                },
                {
                    "id": 3,
                    "src": "imagens/amz4.png",
                    "descricao": "Equipe de arqueólogos em campo"
                }
            ]
        },
        {
            "id": 8,
            "titulo": "Inovação em Agricultura Sustentável Transforma Deserto em Oásis",
            "descricao": "Técnica revolucionária de cultivo permite produção de alimentos em áreas áridas.",
            "conteudo": "Cientistas desenvolveram uma técnica inovadora de agricultura que está transformando áreas desérticas em terras produtivas. O método, chamado de 'Agricultura de Precisão Hídrica', combina tecnologias de irrigação inteligente com culturas geneticamente adaptadas para ambientes áridos. Em um projeto piloto no Nordeste brasileiro, a técnica já permitiu o cultivo de alimentos em uma área que antes era considerada improdutiva. Esta inovação pode ser crucial para combater a fome em regiões afetadas pela desertificação e mudanças climáticas.",
            "categoria": "Meio Ambiente",
            "autor": "Lucas Oliveira",
            "destaque": false,
            "data": "2024-04-18",
            "imagem_principal": "imagens/agl1.png",
            "imagens_complementares": [
                {
                    "id": 1,
                    "src": "imagens/agl2.png",
                    "descricao": "Campo experimental no deserto"
                },
                {
                    "id": 2,
                    "src": "imagens/agl3.png",
                    "descricao": "Sistema de irrigação inteligente"
                },
                {
                    "id": 3,
                    "src": "imagens/agl4.jpg",
                    "descricao": "Primeira colheita no projeto piloto"
                }
            ]
        }
    ]
};

// Função para carregar notícias na página inicial
function carregarNoticias() {
    const container = document.querySelector('.row');
    if (!container) return;

    dados.noticias.forEach((noticia, index) => {
        const card = `
            <div class="col">
                <div class="card h-100">
                    <img src="${noticia.imagem_principal}" class="card-img-top" alt="${noticia.titulo}">
                    <div class="card-body">
                        <h5 class="card-title">${noticia.titulo}</h5>
                        <p class="card-text">${noticia.descricao}</p>
                        <a href="detalhes.html?id=${noticia.id}" class="btn btn-primary">Ler mais</a>
                    </div>
                    <div class="card-footer">
                        <small class="text-muted">Publicado em ${new Date(noticia.data).toLocaleDateString()}</small>
                    </div>
                </div>
            </div>
        `;
        container.innerHTML += card;
    });
}

// Função para carregar detalhes de uma notícia específica
function carregarDetalhesNoticia() {
    const urlParams = new URLSearchParams(window.location.search);
    const id = parseInt(urlParams.get('id'));
    
    const noticia = dados.noticias.find(n => n.id === id);
    if (!noticia) return;

    document.querySelector('.noticia-titulo').textContent = noticia.titulo;
    document.querySelector('.noticia-imagem').src = noticia.imagem_principal;
    document.querySelector('.noticia-conteudo').textContent = noticia.conteudo;
    document.querySelector('.noticia-autor').textContent = `Por ${noticia.autor}`;
    document.querySelector('.noticia-categoria').textContent = noticia.categoria;
    document.querySelector('.noticia-data').textContent = new Date(noticia.data).toLocaleDateString();

    // Carregar imagens complementares
    const galeriaContainer = document.querySelector('.galeria-imagens');
    noticia.imagens_complementares.forEach(img => {
        const imgElement = `
            <div class="col-md-4">
                <div class="card mb-4">
                    <img src="${img.src}" class="card-img-top" alt="${img.descricao}">
                    <div class="card-body">
                        <p class="card-text">${img.descricao}</p>
                    </div>
                </div>
            </div>
        `;
        galeriaContainer.innerHTML += imgElement;
    });
}

// Função para carregar os destaques no carrossel
function carregarDestaques() {
    const carrosselInner = document.querySelector('.carousel-inner');
    if (!carrosselInner) return;

    // Filtra apenas as notícias marcadas como destaque
    const noticiasDestaque = dados.noticias.filter(noticia => noticia.destaque);
    
    // Limpa o conteúdo atual do carrossel
    carrosselInner.innerHTML = '';
    
    // Adiciona os indicadores do carrossel
    const indicadores = document.querySelector('.carousel-indicators');
    indicadores.innerHTML = '';

    // Adiciona cada notícia em destaque ao carrossel
    noticiasDestaque.forEach((noticia, index) => {
        // Cria o indicador
        indicadores.innerHTML += `
            <button type="button" 
                    data-bs-target="#carrosselNoticias" 
                    data-bs-slide-to="${index}" 
                    ${index === 0 ? 'class="active"' : ''}
                    aria-label="Slide ${index + 1}">
            </button>
        `;

        // Cria o slide com link para a notícia
        const slide = `
            <div class="carousel-item ${index === 0 ? 'active' : ''}">
                <a href="detalhes.html?id=${noticia.id}" style="text-decoration: none; color: inherit;">
                    <img src="${noticia.imagem_principal}" class="d-block w-100" alt="${noticia.titulo}">
                    <div class="carousel-caption">
                        <h3>${noticia.titulo}</h3>
                        <p>${noticia.descricao}</p>
                    </div>
                </a>
            </div>
        `;
        carrosselInner.innerHTML += slide;
    });
}

// Modifique a função de inicialização para incluir o carregamento dos destaques
document.addEventListener('DOMContentLoaded', () => {
    if (window.location.pathname.includes('detalhes.html')) {
        carregarDetalhesNoticia();
    } else {
        carregarDestaques();
        carregarNoticias();
    }
});
